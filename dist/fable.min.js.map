{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/fable-log/source/Fable-Log-BaseLogger.js","fable.min.js","node_modules/fable-log/source/Fable-Log-DefaultProviders-Browser.js","node_modules/fable-log/source/Fable-Log-DefaultStreams.json","node_modules/fable-log/source/Fable-Log-Logger-Console.js","node_modules/fable-log/source/Fable-Log.js","node_modules/fable-settings/source/Fable-Settings-Default.json","node_modules/fable-settings/source/Fable-Settings.js","node_modules/fable-uuid/source/Fable-UUID-Random-Browser.js","node_modules/fable-uuid/source/Fable-UUID.js","node_modules/match-all/lib/index.js","node_modules/process/browser.js","source/Fable.js"],"names":["f","exports","module","define","amd","window","global","self","this","Fable","r","e","n","t","o","i","c","require","u","a","Error","code","p","call","length","1","libFableUUID","[object Object]","pLogStreamSettings","pFableLog","_Settings","loggerUUID","getUUID","pLogText","pLogObject","write","pLogLevel","fable-uuid","2","getDefaultProviders","tmpDefaultProviders","console","default","./Fable-Log-Logger-Console.js","3","loggertype","streamtype","level","4","libBaseLogger","super","_ShowTimeStamps","hasOwnProperty","ShowTimeStamps","_FormattedTimeStamps","FormattedTimeStamps","_ContextMessage","Context","Product","pLevel","pObject","tmpDate","Date","toISOString","log","JSON","stringify","./Fable-Log-BaseLogger.js","5","FableLog","pFableSettings","pFable","tmpSettings","_Providers","_StreamDefinitions","LogStreams","logStreams","logProviders","activeLogStreams","logStreamsTrace","logStreamsDebug","logStreamsInfo","logStreamsWarn","logStreamsError","logStreamsFatal","datumDecorator","pDatum","uuid","pLogger","push","fDatumDecorator","pMessage","tmpDecoratedDatum","trace","debug","info","warn","error","fatal","tmpStreamDefinition","Object","assign","addLogger","initialize","tmpMessage","tmpTime","pTimeStamp","pTimeDelta","tmpEndTime","tmpMs","parseInt","tmpSeconds","tmpMinutes","tmpHours","pStartTime","logTimeDelta","getTimeDelta","logTimeDeltaHuman","new","pSettings","./Fable-Log-DefaultProviders.js","./Fable-Log-DefaultStreams.json","6","ProductVersion","ConfigFile","7","process","libMatchAll","FableSettings","buildDefaultSettings","merge","_PerformEnvTemplating","NoEnvReplacement","base","parse","DefaultConfigFile","pException","settings","tmpKey","tmpValue","_resolveEnv","indexOf","toArray","forEach","tmpMatch","tmpParts","split","tmpResolvedValue","env","replace","value","Array","isArray","toObject","fromObject","_isObject","keys","key","fromValue","toValue","_deepMergeObjects","pSettingsFrom","pSettingsTo","tmpSettingsFrom","tmpSettingsTo","tmpSettingsFromCopy","./Fable-Settings-Default","_process","match-all","8","getRandomValues","crypto","bind","msCrypto","tmpBuffer","Uint8Array","Math","random","generateWhatWGBytes","generateRandomBytes","9","libRandomByteGenerator","FableUUID","_UUIDModeRandom","UUIDModeRandom","_UUIDLength","UUIDLength","_UUIDRandomDictionary","UUIDDictionary","randomByteGenerator","_HexLookup","toString","substr","pBuffer","join","tmpRandomBytes","generate","bytesToUUID","tmpUUID","charAt","floor","generateRandom","generateUUIDv4","./Fable-UUID-Random.js","10","s","input","regex","next","nextRaw","exec","res","reset","lastIndex","11","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","setTimeout","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","concat","drainQueue","timeout","len","run","marker","runClearTimeout","Item","array","noop","nextTick","args","arguments","prototype","apply","title","browser","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","12","libFableSettings","libFableLog","settingsManager","libUUID","fable","fable-log","fable-settings"],"mappings":"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","file":"fable.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","/**\n* Base Logger Class\n*\n* @license MIT\n*\n* @author Steven Velozo <steven@velozo.com>\n*/\nconst libFableUUID = new (require('fable-uuid').FableUUID)();\n\nclass BaseLogger\n{\n\tconstructor(pLogStreamSettings, pFableLog)\n\t{\n\t\t// This should not possibly be able to be instantiated without a settings object\n\t\tthis._Settings = pLogStreamSettings;\n\t\t\n\t\t// The base logger does nothing but associate a UUID with itself\n\t\tthis.loggerUUID = libFableUUID.getUUID();\n\t}\n\n\tinitialize()\n\t{\n\t\t// No operation.\n\t}\n\n\ttrace(pLogText, pLogObject)\n\t{\n\t\tthis.write(\"trace\", pLogText, pLogObject);\n\t}\n\n\tdebug(pLogText, pLogObject)\n\t{\n\t\tthis.write(\"debug\", pLogText, pLogObject);\n\t}\n\n\tinfo(pLogText, pLogObject)\n\t{\n\t\tthis.write(\"info\", pLogText, pLogObject);\n\t}\n\n\twarn(pLogText, pLogObject)\n\t{\n\t\tthis.write(\"warn\", pLogText, pLogObject);\n\t}\n\n\terror(pLogText, pLogObject)\n\t{\n\t\tthis.write(\"error\", pLogText, pLogObject);\n\t}\n\n\tfatal(pLogText, pLogObject)\n\t{\n\t\tthis.write(\"fatal\", pLogText, pLogObject);\n\t}\n\n\twrite(pLogLevel, pLogText, pLogObject)\n\t{\n\t\t// The base logger does nothing.\n\t\treturn true;\n\t}\n}\n\nmodule.exports = BaseLogger;\n",null,"/**\n* Default Logger Provider Function --- Browser\n*\n* @license MIT\n*\n* @author Steven Velozo <steven@velozo.com>\n*/\n\n// Return the providers that are available without extensions loaded\ngetDefaultProviders = () =>\n{\n\tlet tmpDefaultProviders = {};\n\n\ttmpDefaultProviders.console = require('./Fable-Log-Logger-Console.js');\n\ttmpDefaultProviders.default = tmpDefaultProviders.console;\n\n\treturn tmpDefaultProviders;\n}\n\nmodule.exports = getDefaultProviders();","module.exports=[\n    {\n        \"loggertype\": \"console\",\n        \"streamtype\": \"console\",\n        \"level\": \"trace\"\n    }\n]","let libBaseLogger = require('./Fable-Log-BaseLogger.js');\n\nclass ConsoleLogger extends libBaseLogger\n{\n\tconstructor(pLogStreamSettings, pFableLog)\n\t{\n\t\tsuper(pLogStreamSettings)\n\n\t\tthis._ShowTimeStamps = pLogStreamSettings.hasOwnProperty('ShowTimeStamps') ? (pLogStreamSettings.ShowTimeStamps == true) : false;\n\t\tthis._FormattedTimeStamps = pLogStreamSettings.hasOwnProperty('FormattedTimeStamps') ? (pLogStreamSettings.FormattedTimeStamps == true) : false;\n\n\t\tthis._ContextMessage = pLogStreamSettings.hasOwnProperty('Context') ? ` (${pLogStreamSettings.Context})` : \n\t\t\t\t\t\t\t\tpFableLog._Settings.hasOwnProperty('Product') ? ` (${pFableLog._Settings.Product})` :\n\t\t\t\t\t\t\t\t'';\n\t}\n\n\twrite(pLevel, pLogText, pObject)\n\t{\n\t\tif (this._ShowTimeStamps && this._FormattedTimeStamps)\n\t\t{\n\t\t\tlet tmpDate = (new Date()).toISOString();\n\t\t\tconsole.log(`${tmpDate} [${pLevel}]${this._ContextMessage} ${pLogText}`);\n\t\t}\n\t\telse if (this._ShowTimeStamps)\n\t\t{\n\t\t\tlet tmpDate = +new Date();\n\t\t\tconsole.log(`${tmpDate} [${pLevel}]${this._ContextMessage} ${pLogText}`);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tconsole.log(`[${pLevel}]${this._ContextMessage} ${pLogText}`);\n\t\t}\n\n\t\t// Write out the object on a separate line if it is passed in\n\t\tif (typeof(pObject) !== 'undefined')\n\t\t{\n\t\t\tconsole.log(JSON.stringify(pObject, null, 4));\n\t\t}\n\t}\n\n}\n\nmodule.exports = ConsoleLogger;","/**\n* Fable Logging Add-on\n*\n* @license MIT\n*\n* @author Steven Velozo <steven@velozo.com>\n* @module Fable Logger\n*/\n\n/**\n* Fable Solution Log Wrapper Main Class\n*\n* @class FableLog\n* @constructor\n*/\nclass FableLog\n{\n\tconstructor(pFableSettings, pFable)\n\t{\n\t\tlet tmpSettings = (typeof(pFableSettings) === 'object') ? pFableSettings : {}\n\t\tthis._Settings = tmpSettings;\n\n\t\tthis._Providers = require('./Fable-Log-DefaultProviders.js');\n\n\t\tthis._StreamDefinitions = (tmpSettings.hasOwnProperty('LogStreams')) ? tmpSettings.LogStreams : require('./Fable-Log-DefaultStreams.json');\n\n\t\tthis.logStreams = [];\n\n\t\t// This object gets decorated for one-time instantiated providers that\n\t\t//  have multiple outputs, such as bunyan.\n\t\tthis.logProviders = {};\n\n\t\t// A hash list of the GUIDs for each log stream, so they can't be added to the set more than one time\n\t\tthis.activeLogStreams = {};\n\n\t\tthis.logStreamsTrace = [];\n\t\tthis.logStreamsDebug = [];\n\t\tthis.logStreamsInfo = [];\n\t\tthis.logStreamsWarn = [];\n\t\tthis.logStreamsError = [];\n\t\tthis.logStreamsFatal = [];\n\n\t\tthis.datumDecorator = (pDatum) => pDatum;\n\n\t\tthis.uuid = (typeof(tmpSettings.Product) === 'string') ? tmpSettings.Product : 'Default';\n\t}\n\n\taddLogger(pLogger, pLevel)\n\t{\n\t\t// Bail out if we've already created one.\n\t\tif (this.activeLogStreams.hasOwnProperty(pLogger.loggerUUID))\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\t// Add it to the streams and to the mutex\n\t\tthis.logStreams.push(pLogger);\n\t\tthis.activeLogStreams[pLogger.loggerUUID] = true;\n\n\t\t// Make sure a kosher level was passed in\n\t\tswitch (pLevel)\n\t\t{\n\t\t\tcase 'trace':\n\t\t\t\tthis.logStreamsTrace.push(pLogger);\n\t\t\tcase 'debug':\n\t\t\t\tthis.logStreamsDebug.push(pLogger);\n\t\t\tcase 'info':\n\t\t\t\tthis.logStreamsInfo.push(pLogger);\n\t\t\tcase 'warn':\n\t\t\t\tthis.logStreamsWarn.push(pLogger);\n\t\t\tcase 'error':\n\t\t\t\tthis.logStreamsError.push(pLogger);\n\t\t\tcase 'fatal':\n\t\t\t\tthis.logStreamsFatal.push(pLogger);\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tsetDatumDecorator(fDatumDecorator)\n\t{\n\t\tif (typeof(fDatumDecorator) === 'function')\n\t\t{\n\t\t\tthis.datumDecorator = fDatumDecorator;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.datumDecorator = (pDatum) => pDatum;\n\t\t}\n\t}\n\n\ttrace(pMessage, pDatum)\n\t{\n\t\tconst tmpDecoratedDatum = this.datumDecorator(pDatum);\n\t\tfor (let i = 0; i < this.logStreamsTrace.length; i++)\n\t\t{\n\t\t\tthis.logStreamsTrace[i].trace(pMessage, tmpDecoratedDatum);\n\t\t}\n\t}\n\n\tdebug(pMessage, pDatum)\n\t{\n\t\tconst tmpDecoratedDatum = this.datumDecorator(pDatum);\n\t\tfor (let i = 0; i < this.logStreamsDebug.length; i++)\n\t\t{\n\t\t\tthis.logStreamsDebug[i].debug(pMessage, tmpDecoratedDatum);\n\t\t}\n\t}\n\n\tinfo(pMessage, pDatum)\n\t{\n\t\tconst tmpDecoratedDatum = this.datumDecorator(pDatum);\n\t\tfor (let i = 0; i < this.logStreamsInfo.length; i++)\n\t\t{\n\t\t\tthis.logStreamsInfo[i].info(pMessage, tmpDecoratedDatum);\n\t\t}\n\t}\n\n\twarn(pMessage, pDatum)\n\t{\n\t\tconst tmpDecoratedDatum = this.datumDecorator(pDatum);\n\t\tfor (let i = 0; i < this.logStreamsWarn.length; i++)\n\t\t{\n\t\t\tthis.logStreamsWarn[i].warn(pMessage, tmpDecoratedDatum);\n\t\t}\n\t}\n\n\terror(pMessage, pDatum)\n\t{\n\t\tconst tmpDecoratedDatum = this.datumDecorator(pDatum);\n\t\tfor (let i = 0; i < this.logStreamsError.length; i++)\n\t\t{\n\t\t\tthis.logStreamsError[i].error(pMessage, tmpDecoratedDatum);\n\t\t}\n\t}\n\n\tfatal(pMessage, pDatum)\n\t{\n\t\tconst tmpDecoratedDatum = this.datumDecorator(pDatum);\n\t\tfor (let i = 0; i < this.logStreamsFatal.length; i++)\n\t\t{\n\t\t\tthis.logStreamsFatal[i].fatal(pMessage, tmpDecoratedDatum);\n\t\t}\n\t}\n\n\tinitialize()\n\t{\n\t\t// \"initialize\" each logger as defined in the logging parameters\n\t\tfor (let i = 0; i < this._StreamDefinitions.length; i++)\n\t\t{\n\t\t\tlet tmpStreamDefinition = Object.assign({loggertype:'default',streamtype:'console',level:'info'},this._StreamDefinitions[i]);\n\n\t\t\tif (!this._Providers.hasOwnProperty(tmpStreamDefinition.loggertype))\n\t\t\t{\n\t\t\t\tconsole.log(`Error initializing log stream: bad loggertype in stream definition ${JSON.stringify(tmpStreamDefinition)}`);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.addLogger(new this._Providers[tmpStreamDefinition.loggertype](tmpStreamDefinition, this), tmpStreamDefinition.level);\n\t\t\t}\n\t\t}\n\n\t\t// Now initialize each one.\n\t\tfor (let i = 0; i < this.logStreams.length; i++)\n\t\t{\n\t\t\tthis.logStreams[i].initialize();\n\t\t}\n\t}\n\n\tlogTime(pMessage, pDatum)\n\t{\n\t\tlet tmpMessage = (typeof(pMessage) !== 'undefined') ? pMessage : 'Time';\n\t\tlet tmpTime = new Date();\n\t\tthis.info(`${tmpMessage} ${tmpTime} (epoch ${+tmpTime})`, pDatum);\n\t}\n\n\t// Get a timestamp\n\tgetTimeStamp()\n\t{\n\t\treturn +new Date();\n\t}\n\n\tgetTimeDelta(pTimeStamp)\n\t{\n\t\tlet tmpEndTime = +new Date();\n\t\treturn tmpEndTime-pTimeStamp;\n\t}\n\n\t// Log the delta between a timestamp, and now with a message\n\tlogTimeDelta(pTimeDelta, pMessage, pDatum)\n\t{\n\t\tlet tmpMessage = (typeof(pMessage) !== 'undefined') ? pMessage : 'Time Measurement';\n\t\tlet tmpDatum = (typeof(pDatum) === 'object') ? pDatum : {};\n\n\t\tlet tmpEndTime = +new Date();\n\n\t\tthis.info(`${tmpMessage} logged at (epoch ${+tmpEndTime}) took (${pTimeDelta}ms)`, pDatum);\n\t}\n\n\tlogTimeDeltaHuman(pTimeDelta, pMessage, pDatum)\n\t{\n\t\tlet tmpMessage = (typeof(pMessage) !== 'undefined') ? pMessage : 'Time Measurement';\n\n\t\tlet tmpEndTime = +new Date();\n\n\t\tlet tmpMs = parseInt(pTimeDelta%1000);\n\t\tlet tmpSeconds = parseInt((pTimeDelta/1000)%60);\n\t\tlet tmpMinutes = parseInt((pTimeDelta/(1000*60))%60);\n\t\tlet tmpHours = parseInt(pTimeDelta/(1000*60*60));\n\n\t\ttmpMs = (tmpMs < 10) ? \"00\"+tmpMs : (tmpMs < 100) ? \"0\"+tmpMs : tmpMs;\n\t\ttmpSeconds = (tmpSeconds < 10) ? \"0\"+tmpSeconds : tmpSeconds;\n\t\ttmpMinutes = (tmpMinutes < 10) ? \"0\"+tmpMinutes : tmpMinutes;\n\t\ttmpHours = (tmpHours < 10) ? \"0\"+tmpHours : tmpHours;\n\n\t\tthis.info(`${tmpMessage} logged at (epoch ${+tmpEndTime}) took (${pTimeDelta}ms) or (${tmpHours}:${tmpMinutes}:${tmpSeconds}.${tmpMs})`, pDatum);\n\t}\n\n\tlogTimeDeltaRelative(pStartTime, pMessage, pDatum)\n\t{\n\t\tthis.logTimeDelta(this.getTimeDelta(pStartTime), pMessage, pDatum);\n\t}\n\n\tlogTimeDeltaRelativeHuman(pStartTime, pMessage, pDatum)\n\t{\n\t\tthis.logTimeDeltaHuman(this.getTimeDelta(pStartTime), pMessage, pDatum);\n\t}\n}\n\n// This is for backwards compatibility\nfunction autoConstruct(pSettings)\n{\n\treturn new FableLog(pSettings);\n}\n\n\nmodule.exports = {new:autoConstruct, FableLog:FableLog};\n","module.exports={\n\t\"Product\": \"ApplicationNameHere\",\n\t\"ProductVersion\": \"0.0.0\",\n\n\t\"ConfigFile\": false,\n\n\t\"LogStreams\":\n\t[\n\t\t{\n\t\t\t\"level\": \"trace\"\n\t\t}\n\t]\n}\n","/**\n* Fable Settings Add-on\n*\n* @license MIT\n*\n* @author Steven Velozo <steven@velozo.com>\n* @module Fable Settings\n*/\n\n// needed since String.matchAll wasn't added to node until v12\nconst libMatchAll = require('match-all');\n\n/**\n* Fable Solution Settings\n*\n* @class FableSettings\n* @constructor\n*/\n\nclass FableSettings\n{\n\tconstructor(pFableSettings)\n\t{\n\t\tthis.default = this.buildDefaultSettings();\n\n\t\t// Construct a new settings object\n\t\tlet tmpSettings = this.merge(pFableSettings, this.buildDefaultSettings());\n\n\t\t// default environment variable templating to on\n\t\tthis._PerformEnvTemplating = !tmpSettings || tmpSettings.NoEnvReplacement !== true;\n\n\t\t// The base settings object (what they were on initialization, before other actors have altered them)\n\t\tthis.base = JSON.parse(JSON.stringify(tmpSettings));\n\n\t\tif (tmpSettings.DefaultConfigFile)\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\t// If there is a DEFAULT configuration file, try to load and merge it.\n\t\t\t\ttmpSettings = this.merge(require(tmpSettings.DefaultConfigFile), tmpSettings);\n\t\t\t}\n\t\t\tcatch (pException)\n\t\t\t{\n\t\t\t\t// Why this?  Often for an app we want settings to work out of the box, but\n\t\t\t\t// would potentially want to have a config file for complex settings.\n\t\t\t\tconsole.log('Fable-Settings Warning: Default configuration file specified but there was a problem loading it.  Falling back to base.');\n\t\t\t\tconsole.log('     Loading Exception: '+pException);\n\t\t\t}\n\t\t}\n\n\t\tif (tmpSettings.ConfigFile)\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\t// If there is a configuration file, try to load and merge it.\n\t\t\t\ttmpSettings = this.merge(require(tmpSettings.ConfigFile), tmpSettings);\n\t\t\t}\n\t\t\tcatch (pException)\n\t\t\t{\n\t\t\t\t// Why this?  Often for an app we want settings to work out of the box, but\n\t\t\t\t// would potentially want to have a config file for complex settings.\n\t\t\t\tconsole.log('Fable-Settings Warning: Configuration file specified but there was a problem loading it.  Falling back to base.');\n\t\t\t\tconsole.log('     Loading Exception: '+pException);\n\t\t\t}\n\t\t}\n\n\t\tthis.settings = tmpSettings;\n\t}\n\n\t// Build a default settings object.  Use the JSON jimmy to ensure it is always a new object.\n\tbuildDefaultSettings()\n\t{\n\t\treturn JSON.parse(JSON.stringify(require('./Fable-Settings-Default')));\n\t}\n\n\n\t// Resolve (recursive) any environment variables found in settings object.\n\t_resolveEnv(pSettings)\n\t{\n\t\tfor (const tmpKey in pSettings)\n\t\t{\n\t\t\tconst tmpValue = pSettings[tmpKey];\n\t\t\tif (typeof(tmpValue) === 'object') // && !Array.isArray(tmpValue))\n\t\t\t{\n\t\t\t\tthis._resolveEnv(tmpValue);\n\t\t\t}\n\t\t\telse if (typeof(tmpValue) === 'string')\n\t\t\t{\n\t\t\t\tif (tmpValue.indexOf('${') >= 0)\n\t\t\t\t{\n\t\t\t\t\t//pick out and resolve env constiables from the settings value.\n\t\t\t\t\tconst tmpMatches = libMatchAll(tmpValue, /\\$\\{(.*?)\\}/g).toArray();\n\t\t\t\t\ttmpMatches.forEach((tmpMatch) =>\n\t\t\t\t\t{\n\t\t\t\t\t\t//format: VAR_NAME|DEFAULT_VALUE\n\t\t\t\t\t\tconst tmpParts = tmpMatch.split('|');\n\t\t\t\t\t\tlet tmpResolvedValue = process.env[tmpParts[0]] || '';\n\t\t\t\t\t\tif (!tmpResolvedValue && tmpParts.length > 1)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttmpResolvedValue = tmpParts[1];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tpSettings[tmpKey] = pSettings[tmpKey].replace('${' + tmpMatch + '}', tmpResolvedValue);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Check to see if a value is an object (but not an array).\n\t */\n\t_isObject(value)\n\t{\n\t\treturn typeof(value) === 'object' && !Array.isArray(value);\n\t}\n\n\t/**\n\t * Merge two plain objects. Keys that are objects in both will be merged property-wise.\n\t */\n\t_deepMergeObjects(toObject, fromObject)\n\t{\n\t\tif (!fromObject || !this._isObject(fromObject))\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tObject.keys(fromObject).forEach((key) =>\n\t\t{\n\t\t\tconst fromValue = fromObject[key];\n\t\t\tif (this._isObject(fromValue))\n\t\t\t{\n\t\t\t\tconst toValue = toObject[key];\n\t\t\t\tif (toValue && this._isObject(toValue))\n\t\t\t\t{\n\t\t\t\t\t// both are objects, so do a recursive merge\n\t\t\t\t\tthis._deepMergeObjects(toValue, fromValue);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttoObject[key] = fromValue;\n\t\t});\n\t\treturn toObject;\n\t}\n\n\t// Merge some new object into the existing settings.\n\tmerge(pSettingsFrom, pSettingsTo)\n\t{\n\t\t// If an invalid settings from object is passed in (e.g. object constructor without passing in anything) this should still work\n\t\tlet tmpSettingsFrom = (typeof(pSettingsFrom) === 'object') ? pSettingsFrom : {};\n\t\t// Default to the settings object if none is passed in for the merge.\n\t\tlet tmpSettingsTo = (typeof(pSettingsTo) === 'object') ? pSettingsTo : this.settings;\n\n\t\t// do not mutate the From object property values\n\t\tlet tmpSettingsFromCopy = JSON.parse(JSON.stringify(tmpSettingsFrom));\n\t\ttmpSettingsTo = this._deepMergeObjects(tmpSettingsTo, tmpSettingsFromCopy);\n\n\t\tif (this._PerformEnvTemplating)\n\t\t{\n\t\t\tthis._resolveEnv(tmpSettingsTo);\n\t\t}\n\n\t\treturn tmpSettingsTo;\n\t}\n\n\t// Fill in settings gaps without overwriting settings that are already there\n\tfill(pSettingsFrom)\n\t{\n\t\t// If an invalid settings from object is passed in (e.g. object constructor without passing in anything) this should still work\n\t\tlet tmpSettingsFrom = (typeof(pSettingsFrom) === 'object') ? pSettingsFrom : {};\n\n\t\t// do not mutate the From object property values\n\t\tlet tmpSettingsFromCopy = JSON.parse(JSON.stringify(tmpSettingsFrom));\n\n\t\tthis.settings = this._deepMergeObjects(tmpSettingsFromCopy, this.settings);\n\n\t\treturn this.settings;\n\t}\n};\n\n// This is for backwards compatibility\nfunction autoConstruct(pSettings)\n{\n\treturn new FableSettings(pSettings);\n}\n\nmodule.exports = {new:autoConstruct, FableSettings:FableSettings};\n","/**\n* Random Byte Generator - Browser version\n*\n* @license MIT\n*\n* @author Steven Velozo <steven@velozo.com>\n*/\n\n// Adapted from node-uuid (https://github.com/kelektiv/node-uuid)\n// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\nclass RandomBytes\n{\n\tconstructor()\n\t{\n\n\t\t// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n\t\t// implementation. Also, find the complete implementation of crypto on IE11.\n\t\tthis.getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      \t\t(typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\t}\n\n\t// WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n\tgenerateWhatWGBytes()\n\t{\n\t\tlet tmpBuffer = new Uint8Array(16); // eslint-disable-line no-undef\n\n\t\tthis.getRandomValues(tmpBuffer);\n\t\treturn tmpBuffer;\n\t}\n\n\t// Math.random()-based (RNG)\n\tgenerateRandomBytes()\n\t{\n\t\t// If all else fails, use Math.random().  It's fast, but is of unspecified\n\t\t// quality.\n\t\tlet tmpBuffer = new Uint8Array(16); // eslint-disable-line no-undef\n\n\t\tfor (let i = 0, tmpValue; i < 16; i++)\n\t\t{\n\t\t\tif ((i & 0x03) === 0)\n\t\t\t{\n\t\t\t\ttmpValue = Math.random() * 0x100000000;\n\t\t\t}\n\n\t\t\ttmpBuffer[i] = tmpValue >>> ((i & 0x03) << 3) & 0xff;\n\t\t}\n\n\t\treturn tmpBuffer;\n\t}\n\n\tgenerate()\n\t{\n\t\tif (this.getRandomValues)\n\t\t{\n\t\t\treturn this.generateWhatWGBytes();\n\t\t}\n\t\telse\n\t\t{\n\t\t\treturn this.generateRandomBytes();\n\t\t}\n\t}\n}\n\nmodule.exports = RandomBytes;\n","/**\n* Fable UUID Generator\n*\n* @license MIT\n*\n* @author Steven Velozo <steven@velozo.com>\n* @module Fable UUID\n*/\n\n/**\n* Fable Solution UUID Generation Main Class\n*\n* @class FableUUID\n* @constructor\n*/\n\nvar libRandomByteGenerator = require('./Fable-UUID-Random.js')\n\nclass FableUUID\n{\n\tconstructor(pSettings)\n\t{\n\t\t// Determine if the module is in \"Random UUID Mode\" which means just use the random character function rather than the v4 random UUID spec.\n\t\t// Note this allows UUIDs of various lengths (including very short ones) although guaranteed uniqueness goes downhill fast.\n\t\tthis._UUIDModeRandom = (typeof(pSettings) === 'object') && (pSettings.hasOwnProperty('UUIDModeRandom')) ? (pSettings.UUIDModeRandom == true) : false;\n\t\t// These two properties are only useful if we are in Random mode.  Otherwise it generates a v4 spec\n\t\t// Length for \"Random UUID Mode\" is set -- if not set it to 8\n\t\tthis._UUIDLength = (typeof(pSettings) === 'object') && (pSettings.hasOwnProperty('UUIDLength')) ? (pSettings.UUIDLength + 0) : 8;\n\t\t// Dictionary for \"Random UUID Mode\"\n\t\tthis._UUIDRandomDictionary = (typeof(pSettings) === 'object') && (pSettings.hasOwnProperty('UUIDDictionary')) ? (pSettings.UUIDDictionary + 0) : '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\n\n\t\tthis.randomByteGenerator = new libRandomByteGenerator();\n\n\t\t// Lookup table for hex codes\n\t\tthis._HexLookup = [];\n\t\tfor (let i = 0; i < 256; ++i)\n\t\t{\n\t\t\tthis._HexLookup[i] = (i + 0x100).toString(16).substr(1);\n\t\t}\n\t}\n\n\t// Adapted from node-uuid (https://github.com/kelektiv/node-uuid)\n\tbytesToUUID(pBuffer)\n\t{\n\t\tlet i = 0;\n\t\t// join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n\t\treturn ([\n\t\t\t\t\tthis._HexLookup[pBuffer[i++]], this._HexLookup[pBuffer[i++]], \n\t\t\t\t\tthis._HexLookup[pBuffer[i++]], this._HexLookup[pBuffer[i++]], '-',\n\t\t\t\t\tthis._HexLookup[pBuffer[i++]], this._HexLookup[pBuffer[i++]], '-',\n\t\t\t\t\tthis._HexLookup[pBuffer[i++]], this._HexLookup[pBuffer[i++]], '-',\n\t\t\t\t\tthis._HexLookup[pBuffer[i++]], this._HexLookup[pBuffer[i++]], '-',\n\t\t\t\t\tthis._HexLookup[pBuffer[i++]], this._HexLookup[pBuffer[i++]], this._HexLookup[pBuffer[i++]], this._HexLookup[pBuffer[i++]], this._HexLookup[pBuffer[i++]], this._HexLookup[pBuffer[i++]]\n\t\t\t\t]).join('');\n\t}\n\n\t// Adapted from node-uuid (https://github.com/kelektiv/node-uuid)\n\tgenerateUUIDv4()\n\t{\n\t\tlet tmpBuffer = new Array(16);\n\t\tvar tmpRandomBytes = this.randomByteGenerator.generate();\n\n\t\t// Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\t\ttmpRandomBytes[6] = (tmpRandomBytes[6] & 0x0f) | 0x40;\n\t\ttmpRandomBytes[8] = (tmpRandomBytes[8] & 0x3f) | 0x80;\n\n\t\treturn this.bytesToUUID(tmpRandomBytes);\n\t}\n\n\t// Simple random UUID generation\n\tgenerateRandom()\n\t{\n\t\tlet tmpUUID = '';\n\n\t\tfor (let i = 0; i < this._UUIDLength; i++)\n\t\t{\n\t\t\ttmpUUID += this._UUIDRandomDictionary.charAt(Math.floor(Math.random() * (this._UUIDRandomDictionary.length-1)));\n\t\t}\n\n\t\treturn tmpUUID;\n\t}\n\n\t// Adapted from node-uuid (https://github.com/kelektiv/node-uuid)\n\tgetUUID()\n\t{\n\t\tif (this._UUIDModeRandom)\n\t\t{\n\t\t\treturn this.generateRandom();\n\t\t}\n\t\telse\n\t\t{\n\t\t\treturn this.generateUUIDv4();\n\t\t}\n\t}\n}\n\n// This is for backwards compatibility\nfunction autoConstruct(pSettings)\n{\n\treturn new FableUUID(pSettings);\n}\n\n\nmodule.exports = {new:autoConstruct, FableUUID:FableUUID};\n","\"use strict\";\n\n/**\n * matchAll\n * Get all the matches for a regular expression in a string.\n *\n * @name matchAll\n * @function\n * @param {String} s The input string.\n * @param {RegExp} r The regular expression.\n * @return {Object} An object containing the following fields:\n *\n *  - `input` (String): The input string.\n *  - `regex` (RegExp): The regular expression.\n *  - `next` (Function): Get the next match.\n *  - `toArray` (Function): Get all the matches.\n *  - `reset` (Function): Reset the index.\n */\nmodule.exports = function matchAll(s, r) {\n    return {\n        input: s,\n        regex: r\n\n        /**\n         * next\n         * Get the next match in single group match.\n         *\n         * @name next\n         * @function\n         * @return {String|null} The matched snippet.\n         */\n        , next: function next() {\n            var c = this.nextRaw();\n            if (c) {\n                for (var i = 1; i < c.length; i++) {\n                    if (c[i]) {\n                        return c[i];\n                    }\n                }\n            }\n            return null;\n        }\n\n        /**\n         * nextRaw\n         * Get the next match in raw regex output. Usefull to get another group match.\n         *\n         * @name nextRaw\n         * @function\n         * @returns {Array|null} The matched snippet\n         */\n        ,\n        nextRaw: function nextRaw() {\n            var c = this.regex.exec(this.input);\n            return c;\n        }\n\n        /**\n         * toArray\n         * Get all the matches.\n         *\n         * @name toArray\n         * @function\n         * @return {Array} The matched snippets.\n         */\n        ,\n        toArray: function toArray() {\n            var res = [],\n                c = null;\n\n            while (c = this.next()) {\n                res.push(c);\n            }\n\n            return res;\n        }\n\n        /**\n         * reset\n         * Reset the index.\n         *\n         * @name reset\n         * @function\n         * @param {Number} i The new index (default: `0`).\n         * @return {Number} The new index.\n         */\n        ,\n        reset: function reset(i) {\n            return this.regex.lastIndex = i || 0;\n        }\n    };\n};","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","// ##### Part of the **[retold](https://stevenvelozo.github.io/retold/)** system\n/**\n* @license MIT\n* @author <steven@velozo.com>\n*/\nconst libFableSettings = require('fable-settings').FableSettings;\nconst libFableUUID = require('fable-uuid').FableUUID;\nconst libFableLog = require('fable-log').FableLog;\n\n\n/**\n* Fable Application Services Support Library\n*\n* @class Fable\n*/\nclass Fable\n{\n\tconstructor(pSettings)\n\t{\n\t\tlet tmpSettings = new libFableSettings(pSettings);\n\n\t\tthis.settingsManager = tmpSettings;\n\n\t\t// Instantiate the UUID generator\n\t\tthis.libUUID = new libFableUUID(this.settingsManager.settings);\n\n\t\tthis.log = new libFableLog(this.settingsManager.settings);\n\t\tthis.log.initialize();\n\t}\n\n\tget settings()\n\t{\n\t\treturn this.settingsManager.settings;\n\t}\n\n\tget fable()\n\t{\n\t\treturn this;\n\t}\n\n\tgetUUID()\n\t{\n\t\treturn this.libUUID.getUUID();\n\t}\n}\n\n// This is for backwards compatibility\nfunction autoConstruct(pSettings)\n{\n\treturn new Fable(pSettings);\n}\n\nmodule.exports = {new:autoConstruct, Fable:Fable};"]}